(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,n,t){},49:function(e,n,t){e.exports=t(71)},60:function(e,n,t){e.exports=t.p+"static/media/Raspi.8814236b.png"},71:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(12),c=t.n(o),l=(t(54),t(35),t(13)),i=t(22),u=t(16),s=t(82),m=t(72),d=t(73),p=t(74),f=t(75),g=t(76),y=t(77),E=t(78);var b=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{dark:!0,expand:"md"},r.a.createElement("div",{className:"container"},r.a.createElement(d.a,{className:"mr-auto",href:"/",target:"_blank",tag:l.b},r.a.createElement("img",{src:t(60),width:"40",height:"35",alt:""})),r.a.createElement(p.a,{onClick:e.toggleNav}),r.a.createElement(f.a,{isOpen:e.isNavOpen,navbar:!0},r.a.createElement(g.a,{navbar:!0},r.a.createElement(y.a,null,r.a.createElement(E.a,{tag:l.b,className:"nav-link",to:"/home"},"Home")),r.a.createElement(y.a,null,r.a.createElement(E.a,{tag:l.b,className:"nav-link",to:"/pandora"},"Pandora")),r.a.createElement(y.a,null,r.a.createElement(E.a,{tag:l.b,className:"nav-link",to:"/iheartradio"},"I-Heart Radio")),r.a.createElement(y.a,null,r.a.createElement(E.a,{tag:l.b,className:"nav-link",to:"/relays"},"Relay Control")),r.a.createElement(y.a,null,r.a.createElement(E.a,{tag:l.b,className:"nav-link",to:"/settings"},"Settings")))))))};var v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("a",{onClick:""},"Mute All")," | ",r.a.createElement("a",{onClick:""},"Restart Server"))))},O=t(79),h=t(48),P=t(30),S="http://".concat(Object(P.hostname)(),":3000/sse"),j="http://".concat(Object(P.hostname)(),":3000/api"),w=function(e){var n=e.stationList,t=e.currentStationName,a=e.playerRunning,o=function(){return n.map(function(e){return{value:e.stationId,label:e.stationName}})};return r.a.createElement(O.a,{md:"5 m-auto"},r.a.createElement(h.a,{value:function(){if(t&&a)return o().find(function(e){return e.label===t})}(),options:o(),onChange:function(e){return function(e){var n=e.value;if(n){var t="/pandora?command=SETSTATION&stationId="+n.toString();console.log("Execute Pianobar command: "+t),fetch(j+t,{method:"post"}).then(function(e){return console.log(e)},function(e){return console.log(e)})}}(e)}}))},N=t(80),k=t(81),A=t(45),L=t(17),D=t(32),R=function(e){var n=e.currentSong,t=e.playerRunning,a=e.isPaused,o=[{id:"love",class:"float-left",command:"/pandora?command=LOVE",icon:"1"===n.currentSong.rating?L.e:D.b},{id:"pauseplay",class:"",command:"/player?command=PLAYPAUSE",icon:a?L.c:L.b},{id:"next",class:"",command:"/player?command=NEXT",icon:L.a},{id:"stop",class:"",command:"/player?command=STOPPLAYER",icon:L.d},{id:"volumedown",class:"",command:"/player?command=VOLUME_DOWN",icon:L.f},{id:"volumeup",class:"",command:"/player?command=VOLUME_UP",icon:L.g},{id:"hate",class:"float-right",command:"/pandora?command=HATE",icon:D.a}],c=Math.round(100*parseInt(n.currentSong.songPlayed)/parseInt(n.currentSong.songDuration));console.log(c);return r.a.createElement(O.a,{md:"6 m-auto",className:"song-controls"},r.a.createElement(N.a,{src:n.currentSong.coverArt,alt:n.currentSong.title,className:"col-12 m-auto"}),r.a.createElement(N.a,null,r.a.createElement(N.a,{bottom:!0,body:!0},r.a.createElement(N.a,{heading:!0},n.currentSong.title),n.currentSong.artist)),r.a.createElement("br",null),r.a.createElement(k.a,{value:c}),r.a.createElement("br",null),o.map(function(e){return r.a.createElement(s.a,{id:e.id,key:e.id,className:e.class,disabled:!t,color:"light",onClick:function(){return n=e.command,console.log("Execute Pianobar command: "+n),void fetch(j+n,{method:"post"}).then(function(e){return console.log(e)},function(e){return console.log(e)});var n}},r.a.createElement(A.a,{icon:e.icon}))}))},T=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Welcome home!"))};function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],a=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done)&&(t.push(c.value),!n||t.length!==n);a=!0);}catch(i){r=!0,o=i}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=function(e){var n=x(Object(a.useState)(!1),2),t=n[0],o=n[1],c=x(Object(a.useState)(),2),l=c[0],i=c[1],m={pandora:function(n){return e.updatePandora(n.data)},player:function(n){return e.updatePlayer(n.data)}};Object(a.useEffect)(function(){l?(l.onopen=function(){console.log("Source opened!")},l.onerror=function(){console.log(l.readyState)},Object.keys(m).forEach(function(e){l.addEventListener(e,function(n){m[e](n)})})):i(new EventSource(S))},[l]),Object(a.useEffect)(function(){return function(){l&&l.close()}},[]);return r.a.createElement("div",null,r.a.createElement(b,{isNavOpen:t,toggleNav:function(){o(!t)}}),r.a.createElement("br",null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/home",component:T}),r.a.createElement(u.b,{exact:!0,path:"/pandora",component:function(){return!e.player.playerRunning||e.player.isLoading||e.pandora.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{id:"startPlayer",key:"startPlayer",color:"light",onClick:function(){fetch(j+"/player?command=STARTPLAYER",{method:"post"}).then(function(e){return console.log(e)},function(e){return console.log(e)})}},"Start Player")):r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{stationList:e.pandora.stationList,currentStationName:e.pandora.currentSong.currentSong.stationName,playerRunning:e.player.playerRunning}),r.a.createElement("br",null),r.a.createElement(R,{currentSong:e.pandora.currentSong,playerRunning:e.player.playerRunning,isPaused:e.player.isPaused}))}}),r.a.createElement(u.a,{to:"/home"})),r.a.createElement("br",null),r.a.createElement(v,null))},C=function(e){return{type:"ADD_PLAYER",payload:e}},_=function(e){return{type:"ADD_PANDORA",payload:e}},F=function(e){return{pandora:e.pandora,player:e.player}},Y=function(e){return{updatePandora:function(n){e(function(e){return function(n){n(_(JSON.parse(e)))}}(n))},updatePlayer:function(n){e(function(e){return function(n){n(C(JSON.parse(e)))}}(n))}}},H=Object(u.g)(Object(i.b)(F,Y)(I)),J=t(18);function M(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?M(t,!0).forEach(function(n){W(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var V={isLoading:!0,currentSong:{isLoading:!0,currentSong:{}},stationList:[],songHistory:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,n=arguments.length>1?arguments[1]:void 0,t=W({},"ADD_PANDORA",U({},e,{},n.payload,{currentSong:U({},e.currentSong,{},n.payload?n.payload.currentSong:{},{isLoading:!1}),isLoading:!1}));return Object.keys(t).includes(n.type)?t[n.type]:e};function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function $(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var q={isLoading:!0,isPaused:!1,playerRunning:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,n=arguments.length>1?arguments[1]:void 0,t=$({},"ADD_PLAYER",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(t,!0).forEach(function(n){$(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,{},n.payload,{isLoading:!1}));return Object.keys(t).includes(n.type)?t[n.type]:e},G=t(46),K=t(47),Q=t.n(K),Z=function(){return r.a.createElement(i.a,{store:Object(J.d)(Object(J.c)({pandora:B,player:z}),Object(J.a)(G.a,Q.a))},r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(H,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[49,1,2]]]);
//# sourceMappingURL=main.5c343d80.chunk.js.map