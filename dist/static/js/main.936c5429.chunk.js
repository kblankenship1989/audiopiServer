(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,n,t){},50:function(e,n,t){e.exports=t(72)},61:function(e,n,t){e.exports=t.p+"static/media/Raspi.8814236b.png"},72:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(12),c=t.n(o),l=(t(55),t(36),t(13)),i=t(22),u=t(16),s=t(34),m=t(83),d=t(73),p=t(74),g=t(75),f=t(76),E=t(77),y=t(78),b=t(79);var O=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{dark:!0,expand:"md"},r.a.createElement("div",{className:"container"},r.a.createElement(p.a,{className:"mr-auto",href:"/",target:"_blank",tag:l.b},r.a.createElement("img",{src:t(61),width:"40",height:"35",alt:""})),r.a.createElement(g.a,{onClick:e.toggleNav}),r.a.createElement(f.a,{isOpen:e.isNavOpen,navbar:!0},r.a.createElement(E.a,{navbar:!0},r.a.createElement(y.a,null,r.a.createElement(b.a,{tag:l.b,className:"nav-link",to:"/home"},"Home")),r.a.createElement(y.a,null,r.a.createElement(b.a,{tag:l.b,className:"nav-link",to:"/pandora"},"Pandora")),r.a.createElement(y.a,null,r.a.createElement(b.a,{tag:l.b,className:"nav-link",to:"/iheartradio"},"I-Heart Radio")),r.a.createElement(y.a,null,r.a.createElement(b.a,{tag:l.b,className:"nav-link",to:"/relays"},"Relay Control")),r.a.createElement(y.a,null,r.a.createElement(b.a,{tag:l.b,className:"nav-link",to:"/settings"},"Settings")))))))};var v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("a",{onClick:""},"Mute All")," | ",r.a.createElement("a",{onClick:""},"Restart Server"))))},h=t(80),P=t(49),j=t(30),S="http://".concat(Object(j.hostname)(),":3000/sse"),w="http://".concat(Object(j.hostname)(),":3000/api"),N=function(e){var n=e.stationList,t=e.currentStationName,a=e.playerRunning,o=function(){return n.map(function(e){return{value:e.stationId,label:e.stationName}})};return r.a.createElement(h.a,{md:"5 m-auto"},r.a.createElement(P.a,{value:function(){if(t&&a)return o().find(function(e){return e.label===t})}(),options:o(),onChange:function(e){return function(e){var n=e.value;if(n){var t="/pandora?command=SETSTATION&stationId="+n.toString();console.log("Execute Pianobar command: "+t),fetch(w+t,{method:"post"}).then(function(e){return console.log(e)},function(e){return console.log(e)})}}(e)}}))},k=t(81),L=t(82),A=t(46),D=t(17),R=t(32),T=function(e){var n=e.currentSong,t=e.playerRunning,a=e.isPaused,o=[{id:"love",class:"float-left",command:"/pandora?command=LOVE",icon:"1"===n.currentSong.rating?D.e:R.b},{id:"pauseplay",class:"",command:"/player?command=PLAYPAUSE",icon:a?D.c:D.b},{id:"next",class:"",command:"/player?command=NEXT",icon:D.a},{id:"stop",class:"",command:"/player?command=STOPPLAYER",icon:D.d},{id:"volumedown",class:"",command:"/player?command=VOLUME_DOWN",icon:D.f},{id:"volumeup",class:"",command:"/player?command=VOLUME_UP",icon:D.g},{id:"hate",class:"float-right",command:"/pandora?command=HATE",icon:R.a}],c=Math.round(100*parseInt(n.currentSong.songPlayed)/parseInt(n.currentSong.songDuration));console.log(c);return r.a.createElement(h.a,{md:"6 m-auto",className:"song-controls"},r.a.createElement(k.a,{src:n.currentSong.coverArt,alt:n.currentSong.title,className:"col-12 m-auto"}),r.a.createElement(k.a,null,r.a.createElement(k.a,{bottom:!0,body:!0},r.a.createElement(k.a,{heading:!0},n.currentSong.title),n.currentSong.artist)),r.a.createElement("br",null),r.a.createElement(L.a,{value:c}),r.a.createElement("br",null),o.map(function(e){return r.a.createElement(m.a,{id:e.id,key:e.id,className:e.class,disabled:!t,color:"light",onClick:function(){return n=e.command,console.log("Execute Pianobar command: "+n),void fetch(w+n,{method:"post"}).then(function(e){return console.log(e)},function(e){return console.log(e)});var n}},r.a.createElement(A.a,{icon:e.icon}))}))},x=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Welcome home!"))},C=function(e){var n=Object(a.useState)(!1),t=Object(s.a)(n,2),o=t[0],c=t[1],l=Object(a.useState)(),i=Object(s.a)(l,2),d=i[0],p=i[1],g={pandora:function(n){return e.updatePandora(n.data)},player:function(n){return e.updatePlayer(n.data)}};Object(a.useEffect)(function(){d?(d.onopen=function(){console.log("Source opened!")},d.onerror=function(){console.log(d.readyState)},Object.keys(g).forEach(function(e){d.addEventListener(e,function(n){g[e](n)})})):p(new EventSource(S))},[d]),Object(a.useEffect)(function(){return function(){d&&d.close()}},[]);return r.a.createElement("div",null,r.a.createElement(O,{isNavOpen:o,toggleNav:function(){c(!o)}}),r.a.createElement("br",null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/home",component:x}),r.a.createElement(u.b,{exact:!0,path:"/pandora",component:function(){return!e.player.playerRunning||e.player.isLoading||e.pandora.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{id:"startPlayer",key:"startPlayer",color:"light",onClick:function(){fetch(w+"/player?command=STARTPLAYER",{method:"post"}).then(function(e){return console.log(e)},function(e){return console.log(e)})}},"Start Player")):r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{stationList:e.pandora.stationList,currentStationName:e.pandora.currentSong.currentSong.stationName,playerRunning:e.player.playerRunning}),r.a.createElement("br",null),r.a.createElement(T,{currentSong:e.pandora.currentSong,playerRunning:e.player.playerRunning,isPaused:e.player.isPaused}))}}),r.a.createElement(u.a,{to:"/home"})),r.a.createElement("br",null),r.a.createElement(v,null))},I=function(e){return{type:"ADD_PLAYER",payload:e}},_=function(e){return{type:"ADD_PANDORA",payload:e}},F=function(e){return{pandora:e.pandora,player:e.player}},Y=function(e){return{updatePandora:function(n){e(function(e){return function(n){n(_(JSON.parse(e)))}}(n))},updatePlayer:function(n){e(function(e){return function(n){n(I(JSON.parse(e)))}}(n))}}},H=Object(u.g)(Object(i.b)(F,Y)(C)),J=t(18),M=t(3);function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(t,!0).forEach(function(n){Object(M.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var V={isLoading:!0,currentSong:{isLoading:!0,currentSong:{}},stationList:[],songHistory:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,n=arguments.length>1?arguments[1]:void 0,t=Object(M.a)({},"ADD_PANDORA",W({},e,{},n.payload,{currentSong:W({},e.currentSong,{},n.payload?n.payload.currentSong:{},{isLoading:!1}),isLoading:!1}));return Object.keys(t).includes(n.type)?t[n.type]:e};function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}var $={isLoading:!0,isPaused:!1,playerRunning:!1},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,n=arguments.length>1?arguments[1]:void 0,t=Object(M.a)({},"ADD_PLAYER",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(t,!0).forEach(function(n){Object(M.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,{},n.payload,{isLoading:!1}));return Object.keys(t).includes(n.type)?t[n.type]:e},z=t(47),G=t(48),K=t.n(G),Q=function(){return r.a.createElement(i.a,{store:Object(J.d)(Object(J.c)({pandora:B,player:q}),Object(J.a)(z.a,K.a))},r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(H,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,1,2]]]);
//# sourceMappingURL=main.936c5429.chunk.js.map